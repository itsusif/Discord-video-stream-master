import { Writable } from "node:stream";
import type { Packet } from "@libav.js/variant-webcodecs";
export declare class BaseMediaStream extends Writable {
    private _pts?;
    private _syncTolerance;
    private _loggerSend;
    private _loggerSync;
    private _loggerSleep;
    private _isPaused;
    private _isMuted;
    private _pauseStartTime?;
    private _totalPausedTime;
    private _seekTarget?;
    private _emitter;
    private _firstPts?;
    private _isBackwardSeek;
    private _packetBuffer;
    _currentTime: number;
    private _noSleep;
    private _startTime?;
    private _startPts?;
    syncStream?: BaseMediaStream;
    constructor(type: string, noSleep?: boolean);
    get isMuted(): boolean;
    get pts(): number | undefined;
    get currentTime(): number;
    get isPaused(): boolean;
    get syncTolerance(): number;
    set syncTolerance(n: number);
    protected _waitForOtherStream(): Promise<void>;
    protected _sendFrame(frame: Buffer, frametime: number): Promise<void>;
    protected _sendFrameWithMute(frame: Buffer, frametime: number): Promise<void>;
    private _ptsToMs;
    private _handleSeek;
    private _resetStreamState;
    _write(frame: Packet, _: BufferEncoding, callback: (error?: Error | null) => void): Promise<void>;
    _destroy(error: Error | null, callback: (error?: Error | null) => void): void;
    pause(): this;
    resume(): this;
    seek(targetMs: number): this;
    onn(event: 'seeking' | 'seeked', listener: (timestamp: number) => void): this;
    off(event: 'seeking' | 'seeked', listener: (timestamp: number) => void): this;
    resetPauseState(): void;
    _processPacket(packet: Packet): Promise<void>;
    mute(): this;
    unmute(): this;
    toggleMute(): this;
}
